<!DOCTYPE html>
<html>
<head>
    <title>{% block title %}{% endblock %}</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='orders.css') }}">
</head>
<body>

<header>
    <nav class="navbar">
        <div class="navbar-brand">
            <a href="#" class="navbar-logo">The Kitchen</a>
        </div>
    </nav>
</header>

<main>
    <h1 class="orders-heading">Current Orders</h1>
    {% if orders %}
        <p class="orders-total">Total Orders: {{ orders|length }}</p>
        <ul class="orders-list">
            {% for order in orders %}
                <li class="order-item">
                    <div class="order-details">
                        <h2 class="order-number">{{ loop.index }}</h2>
                        <ul class="order-items-list">
                            {% for item, quantity in order[0] %}
                                <li class="order-item-details">{{ item["item_name"] }} x {{ item["quantity"] }}</li>
                            {% endfor %}
                        </ul>
                        <div class="order-meta">
                            <span class="table-number">Table Number: {{ order[2] }}</span>
                            <span class="order-time">Order time: {{ order[1] }}</span>
                        </div>
                    </div>
                    <form action="{{ url_for('clear_order', index=loop.index0) }}" method="post" class="order-clear-form">
                        <button type="submit" class="order-clear-btn">Clear</button>
                    </form>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p class="no-orders-msg">No orders have been placed.</p>
    {% endif %}  



</main>

<footer>
    <p class="footer-text">Copyright
    My Restaurant. All rights reserved.</p>
</footer>


<h1 class="orders-heading">Current Orders</h1>
<p class="orders-total">Total Orders: {{ orders|length }}</p>
<div class="container">
    <div class="row gutters">
    	<div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
    		<div class="card">
    			<div class="card-body p-0">
    				<div class="invoice-container">
    
    					<div class="invoice-body">
    
    						<!-- Row start -->
    						<div class="row gutters">
    							<div class="col-lg-12 col-md-12 col-sm-12">
    								<div class="table-responsive">
    									<table class="table custom-table m-0">
    										<thead>
    											<tr>
    												<th>#</th>
    												<th>Table No</th>
    												<th>Items x quantity</th>
													<th>Order Time</th>
    											</tr>
    										</thead>
    										<tbody>
											{% if orders %}
												{% for order in orders %}
    											<tr>													
    												<td>
    													
    													<p class="m-0 text-muted">
    														{{ loop.index }}
    													</p>
    												</td>
													<td>Table Number: {{ order[2] }}</td>
    												<td>
													{% for item_id, item in order[0] %}	
                            							<li>{{ item["item_name"] }} x {{ item["quantity"] }}</li>
													{% endfor %}	
													</td>
													<td>Order time: {{ order[1] }}</td>
													<td>
														<form action="{{ url_for('clear_order', index=loop.index0) }}" method="post">
															<button type="submit">Clear</button>
														</form>
													</td>
    											</tr>
												{% endfor %}
											{% else %}
												<p>No orders have been placed.</p>
											{% endif %}
    												
    										</tbody>
    									</table>
    								</div>
    							</div>
    						</div>
    						<!-- Row end -->
    
    					</div>
    
    					<div class="invoice-footer">
    						Thank you for your Business.
    					</div>
    
    				</div>
    			</div>
    		</div>
    	</div>
    </div>
</div>


</body>
</html>
