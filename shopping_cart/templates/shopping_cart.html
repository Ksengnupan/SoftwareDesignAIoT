<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Shopping Cart</title>
</head>
<body>
	<h1>Shopping Cart</h1>

	<form method="post" action="/add_to_cart">

		<label for="item_name">Item:</label>
		<input type="text" id="item_name" name="item_name" required>

		<label for="quantity">Quantity:</label>
		<input type="number" id="quantity" name="quantity" required>

		<label for="quantity">Unit Price:</label>
		<input type="number" id="unit_price" name="unit_price" required>

		
		<!-- Add hidden input field for tableNo -->
		<input type="hidden" name="tableNo" value="2">

		<button type="submit">Add to cart</button>
	</form>

	<hr>

	{% if items %}
  <p>Table Number: {{ session['table_no'] }}</p>
		<table>
			<thead>
				<tr>
					<th>Item</th>
					<th>Unit Price</th>
					<th style="white-space: normal;">Quantity Sub Total</th>
					
					<th></th>
					<th></th>
				</tr>
			</thead>
			<tbody>
				{% for item in items %}
					<tr>
						<td>{{ item["item"] }}</td>
						<td>{{ item["unit_price"] }}</td>
						
						<td style="white-space: normal;">
							<form method="post" action="/update/{{ item }}">
								<input type="number" name="quantity" value="{{ item["quantity"] }}">
								{{ item["unit_price"] * item["quantity"] }}
								<button type="submit">Update</button>
							</form>
						</td>
						
						<td>
							<form method="post" action="/delete/{{ item }}">
								<button type="submit">Delete</button>
							</form>
						</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
		<form method="post" action="/order">
			<button type="submit">Order</button>
		</form>
	{% else %}
		<p>Your cart is empty.</p>
	{% endif %}

</body>
</html>
